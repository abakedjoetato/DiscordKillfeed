---

# EMERALD‚ÄôS KILLFEED ‚Äî ADVANCED EMBED SYSTEM v4.0

## OBJECTIVE

Implement a complete, professionally styled, thematic embed system for Emerald‚Äôs Killfeed bot. Embeds must display structured PvP data, randomized combat log messages, and dark tactical humor appropriate to the Deadside game environment.

All embeds must be generated by a centralized `EmbedFactory.build(type, data)` and support animated outputs (slots, roulette, blackjack) using edit-based illusions.

This task must be executed **as one atomic batch**. No reports, checkpoints, or commits may occur until every defined embed type is fully implemented and verified in a real startup test.

---

## PHASE 0 ‚Äî CONTINUATION BOOTSTRAP (REQUIRED EACH SESSION)

1. If a `.zip` or `.tar.gz` file exists in `attached_assets/`, extract it.
2. Move contents of the extracted directory to the project root.
3. Clean up duplicates, nested folders, or symbolic link issues.
4. Load `progress.md` or `embed_progress.md` if it exists.
5. Resume from the last unfinished phase or section. EmbedFactory should support file-marked continuation (e.g., `# [EMBED:KILLFEED] - DONE`).
6. All progress must be continuously marked in this `.md` file using standard continuation headers.

---

## GLOBAL REQUIREMENTS (FOR ALL EMBEDS)

- All embeds must:
  - Be built by `EmbedFactory.build(type, data)`
  - Use rotating **title** and **combat log** from respective pools
  - Include `discord.utils.utcnow()` timestamp
  - Use a right-aligned thumbnail from `/assets/{type}.png` or `main.png`
  - Omit faction line if no faction exists
  - Always include footer: `Powered by Discord.gg/EmeraldServers`

- No emojis allowed **except for gambling embeds**

---

## EMBED DEFINITIONS

### [EMBED:KILLFEED]

- **Color:** `#00d38a`
- **Title Pool:**
  - `Silhouette Erased`
  - `Hostile Removed`
  - `Contact Dismantled`
  - `Kill Confirmed`
  - `Eyes Off Target`
- **Fields:**
  - Killer
  - KDR (Killer)
  - Streak
  - Action (random: neutralized, dropped, etc.)
  - Victim
  - KDR (Victim)
  - Weapon
  - Distance
  - Combat Log (randomized)

---

### [EMBED:SUICIDE]

- **Color:** `#ff5e5e`
- **Title Pool:**
  - `Self-Termination Logged`
  - `Manual Override`
  - `Exit Chosen`
- **Fields:**
  - Subject (omit faction if not available)
  - Cause: Menu Suicide / Weapon Suicide
  - Combat Log (randomized)

---

### [EMBED:FALL]

- **Color:** `#c084fc`
- **Title Pool:**
  - `Gravity Kill Logged`
  - `Terminal Descent`
  - `Cliffside Casualty`
- **Fields:**
  - Subject (omit faction if not available)
  - Combat Log (randomized)

---

### [EMBED:GAMBLING:SLOTS]

- **Color:** `#7f5af0`
- **Animated Sequence:**
  - Step 1: `üé∞ | ‚è≥ | ‚è≥ | ‚è≥` + "Spinning..."
  - Step 2 (after 2s):  
    - WIN: `üé∞ | üíÄ | üíÄ | üíÄ` + `Result: JACKPOT` + `Payout: +1200 EMD`
    - LOSE: `üé∞ | üßª | ü•´ | üß¶` + `Result: LOSS` + `‚ÄúDeadside‚Äôs house always wins.‚Äù`

---

### [EMBED:GAMBLING:ROULETTE]

- **Color:** `#ef4444`
- Simulated text-based spin
- Final embed includes:
  - Player pick
  - Spin result
  - Outcome
  - Payout
  - Log line (dark tone)

---

### [EMBED:GAMBLING:BLACKJACK]

- **Color:** `#22c55e`
- Fields:
  - Player hand + total
  - Dealer hand + total
  - Outcome
  - Payout
  - Combat Log: ‚ÄúSurvived the dealer. Survived the odds.‚Äù

---

### [EMBED:PROFILE]

- **Color:** `#00d38a`
- **Title:** `Combat Record`
- **Fields:**
  - Name (w/ faction if available)
  - Kills
  - Deaths
  - KDR
  - Longest streak
  - Top weapon
  - Rival (player killed most)
  - Nemesis (player who killed them most)

---

### [EMBED:BOUNTY]

- **Color:** `#facc15`
- **Title Pool:**
  - `Target Flagged`
  - `HVT Logged`
  - `Kill Contract Active`
- **Fields:**
  - Target (w/ faction if any)
  - Bounty amount
  - Set by
  - Reason
  - Time remaining
  - Combat Log

---

### [EMBED:ADMIN]

- **Color:** `#64748b`
- **Title:** `System Command Executed`
- **Fields:**
  - Executor
  - Target
  - Command
  - Timestamp
  - Outcome

---

## CONTINUATION SYSTEM

At the end of each successful embed type implementation, mark completion by inserting:

```md
# [EMBED:<TYPE>] - DONE

Use this .md file to track all progress. On session start, Replit Agent must locate the last [EMBED:...] not marked - DONE and resume work from that point. This ensures the task can continue in future sessions without losing progress.


---

COMPLETION POLICY

No checkpoints

No partial commits

Do not stop execution between embed types

Do not trigger intermediate reports

Only one commit at end of task, after all [EMBED:...] blocks are marked as - DONE and verified in production environment (via bot startup and embed dispatch tests)
